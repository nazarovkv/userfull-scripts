#!/usr/bin/env bash
ls -1 / | sort | while read dir; do echo -e "/$dir\t$(df /$dir --output=target | tail -1) "; done | awk -F"\t" ' { d[NR]=$1; m[NR]=$2; if (length($1) > dM) dM = length($1); if (length($2) > mM) mM = length($2); } END { fmt=sprintf("%%-%ds\t%%-%ds\n",dM,mM); for (i=1; i<=NR; i++) printf(fmt,d[i],m[i]) }'